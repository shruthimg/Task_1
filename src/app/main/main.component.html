<div class="row">
  <div class="col-md-2"></div>
  <div class="col-md-8">
    <h4>Employee Details</h4>
    <app-table [itemTemplate]="nameTemplate" [data]="data"></app-table>

    <ng-template #nameTemplate let-row let-column="column">
      <form [formGroup]="myForm">
        <div *ngIf="!row[column.name].active" (click)="row[column.name].active = !row[column.name].active">
          {{row[column.name].value}}
        </div>
        <div *ngIf="row[column.name].active">
          <div *ngIf="column.name === 'Name'">
            <app-text-field formControlName="firstname"
                            ></app-text-field>
          </div>
          <div *ngIf="column.name === 'Start Date'">
            <app-date-field formControlName="startdate" ></app-date-field>
          </div>
          <div *ngIf="column.name === 'Job Role'">
            <app-reference-field [refControl]="myForm.controls.jobrole" [filteredOptions]="jobRoleOptions"
                                 formControlName="jobrole"></app-reference-field>
          </div>
          <div *ngIf="column.name === 'Department'">
            <app-reference-field [refControl]="myForm.controls.department"
                                 [filteredOptions]="deptOptions" formControlName="department"></app-reference-field>
          </div>
        </div>
      </form>

    </ng-template>


  </div>
  <div class="col-md-2"></div>
</div>

